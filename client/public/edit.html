<div id="titlebar">Editor</div>

<textarea name="" id="file_content" cols="30" rows="10"></textarea>
<button id="save">Save</button>

<script>
    var file_content = document.getElementById('file_content');
    var save = document.getElementById('save');

    // Listen for messages from the parent window
    window.addEventListener('message', (event) => {
        console.log(event);
        if (event.data.type === "set_file") {
            console.log("We got a set file: " + event.data)
            file_content.value = event.data.data;
        }
    }, false);

    save.addEventListener('click', () => {
       let message = {
           type: 'save_file',
           data: file_content.value
       };
         window.parent.postMessage(message, '*');
    });
</script>

<style>
    #titlebar {
        height: 25px;
        width: calc(30 * 16px);
        background-color: #f5f5f5;
        border-bottom: 1px solid #e5e5e5;
        padding: 5px;
        font-size: 16px;
        text-align: center;
    }
</style>